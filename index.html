<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Female Equal Rights in Australia</title>
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    <style>
        body {
            font-family: 'sans-serif', Arial, Helvetica, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
        }
        #vis1 {
            background-color: white;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .main-title {
            font-size: 28px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 30px;
        }
    </style>
</head>
<body>
    <div class="main-title">Female Equal Rights in Australia</div>
    <div id="vis1"></div> <!-- First visualization (Map) -->

    <script>
        var spec1 = {
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "width": 800, 
            "height": 500,
            "title": {
                "text": "Female Employment to Population Ratio in Australian States",
                "fontSize": 20,
                "font": "sans-serif", 
                "color": "#333",
                "anchor": "middle",
                "offset": 20
            },
            "projection": {
                "type": "mercator"
            },
            "params": [
                {
                    "name": "yearSelection",
                    "value": 1988,
                    "bind": {
                        "input": "select",
                        "options": [1988, 1992, 1996, 2000, 2004, 2008, 2012, 2016, 2020, 2024],
                        "name": "Select Year: "
                    }
                }
            ],
            "data": {
                "url": "https://raw.githubusercontent.com/isut0003/3179/refs/heads/main/ne_50m-2.topojson",
                "format": {
                    "type": "topojson",
                    "feature": "ne_50m_admin_1_states_provinces"
                }
            },
            "transform": [
                {
                    "lookup": "properties.name",
                    "from": {
                        "data": {
                            "url": "https://raw.githubusercontent.com/isut0003/3179/refs/heads/main/Employment%20Population%20Female%20by%20year.csv",
                            "format": {
                                "type": "csv",
                                "parse": {
                                    "Year": "number",
                                    "Ratio": "number"
                                }
                            }
                        },
                        "key": "State",
                        "fields": ["Ratio", "Year"]
                    }
                },
                {
                    "filter": "datum.Year == yearSelection"
                }
            ],
            "mark": {
                "type": "geoshape",
                "stroke": "white"
            },
            "encoding": {
                "color": {
                    "field": "Ratio",
                    "type": "quantitative",
                    "title": "Employment Ratio (%)",
                    "scale": {
                        "range": ["#FFCC80", "#FF5722"],
                        "domain": [30, 70]
                    }
                },
                "tooltip": [
                    { "field": "properties.name", "type": "nominal", "title": "State" },
                    { "field": "Ratio", "type": "quantitative", "format": ".1f", "title": "Employment Ratio (%)" },
                    { "field": "Year", "type": "quantitative", "title": "Year" }
                ]
            },
            "config": {
                "background": "white",
                "view": { "stroke": "transparent" }
            }
        };

        // Embed the map visualization into the specified div element
        vegaEmbed('#vis1', spec1, { "actions": false });
    </script>
</body>
</html>

